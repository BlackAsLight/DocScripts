# Baseball

Orbital Baseball League: https://discord.gg/eE7pN4up6h

## Description

### Play Baseball
This script runs on the [Baseball Home](https://politicsandwar.com/obl/host/) Page and the [Baseball Away](https://politicsandwar.com/obl/play/) Page.
- At the bottom of the sidebar, you'll be able to:
  - Toggle off notifications that display the total amount of money generated by the game and the amount of tip still owing/owed.
  - Toggle off the beep sound when a game has successfully been played.
  - Toggle on the built in captcha page. Which will display the Are You Human page inside the actual game page whenever it detects a redirect happened.
    - This feature might break around turn updates.
- Replaces the default Host Home Game and Play Away Game, on their respective pages, with two new buttons, Host/Away Game and Cancel Game, which all function without a page refresh
  - Clicking the Host Game button will start hosting a game. The script will check in the background for if that game has been fulfilled, and at which point will re-enable the button for you to click again.
  - Clicking the Away Game button will make the script start looking for a game to play. Once it's found **one** it will attempt to play it, if successful, it will re-enable the button for you to click again. This script basically makes the Away Games work just like the Home Games.
  - Clicking the Cancel Game button will cancel hosting a game or looking for a game to play, on their respective pages.
  - A beep sound is played whenever a game successfully executes. If you click Cancel Game then no beep sound will be played.
- When the page loads and after every game played, the script attempt to check for unrecorded games and calculate any tips owing/owed by either party.
  - Tips are calculated at 30% of ticket sales **and** winnings combined. Meaning it doesn't matter who wins the games, the pay is always 70:30.
    - After the initial calculation of the 30% tip, additional math is applied to figure out how much of what is owed/owing is still left to receive.
  - The debt owed/owing is displayed on screen along with the their team name, nation name and link to nation. Plus an Info button.
    - If the debt is displayed in red, then you owe said much to that player.
    - If the debt is displayed in green, then that player owes said much to you.
    - Tipping is not enforced by me whatsoever, but you might end up getting embargoed if you refuse to tip the opposing team.
- Clicking the Info button will provide you with two more buttons on screen, a send offer button, and an adjust button.
  - The Send Offer button is designed to work in tandem with the [Create Trade](https://github.com/BlackAsLight/DocScripts/blob/main/Trading/Create%20Trade.user.js) script as it will automatically fill out the forum for you, set to the correct person and displaying the correct button.
  - The Adjust button lets you change the amount of debt it says you owe. This only changes on your records and not theirs. It's intended to be used to update the amount once the tip has been accepted by either party.
    - If no game has been played for 7 days between both parties the debt is just written off and deleted from the books automatically.
	- Setting the amount of zero will cause the debt to be removed from the books, while setting it blank or an invalid number will cause nothing to change.
- It is **not recommended** to view the market pages while running this script, or you might find it a bit hard to accept or create trade offers. This also goes for any other similar page.

### Home Games

**Deprecation**

This script runs on the [Baseball Home Game's](https://politicsandwar.com/obl/host/) Page.
- It will remove the current Host or Cancel Game button and replace it with it's own which are both displayed at the same time constantly. Blue and Red respectively.
- Depending on your current status, one of the buttons will be disabled indicating which mode you are in.
- When you click the blue button to host a game, you will switch modes and the script will now start checking to see when the game is fulfilled to then switch you back, for you to click again.
  - A tone will play whenever the game is fulfilled.
- You can click the red button to cancel the game, if you wish to stop without fulfilling the game.
- The script will sleep between checks. This sleep time changes dynamically, starting at 1s and increases by 1s every 10 checks to a max of 10s sleep time.
  - This sleep time resets back to 1s if you cancel the game then start it again, or if the game is fulfilled.
- Every time the page loads or whenever a game is fulfilled, this script will check your game history and calculate any new tips you owe the away player.
- Tips are 30% of the ticket sales **and** winnings combined. Meaning it doesn't matter who wins the games, the pay is 70:30.
- This script will create a list under the Host and Cancel Game buttons, listing the nation's name, team name, and how much is owed, plus an info button which will display more.
  - If the amount is displayed in red, then you owe said much to that player.
  - If the amount is displayed in green, then that player owes you said much.
- Clicking the info button mentioned in the last dot point will display three new buttons. A Send Offer, Adjust, and Message button.
  - Clicking the Send Offer button will open the Create Offer screen. It is recommended to also have [Create Trade](https://github.com/BlackAsLight/DocScripts/blob/main/Trading/Create%20Trade.user.js) script installed so it auto fills the price, and quantity for you, and hides the sell/buy button that you don't want to click, otherwise only the resource, food, and nation part will be filled out.
  - The Adjust button creates a prompt allowing you to change the value of the amount owed. Setting it to zero will cause it to be removed from the books, while setting it blank or invalid number will cause nothing to happen.
  - The Message button at this time doesn't have any functionality.
- If you haven't had a game with someone for more than 7 days, any tips owed will be canceled.
- It is **not recommended** to view the market pages while this script is running, or you might find it a bit hard to accept or create trade offers.

### Away Games

**Deprecation**

This script runs on the [Baseball Away Game's](https://politicsandwar.com/obl/play/) Page.
- It will remove the current Play Away Game button or Refresh button and replace it with it's own Play Game, and Cancel Game button, which are displayed constantly. Blue and Red respectively.
- The Cancel Game page will always be disable by default upon page load, and Play Game button will be enabled waiting to be clicked.
- When you click the Play Game button, it will search for a host game available to play, and once found will play said game for you, then switch you back so you can click the button again.
  - A tone will play whenever a game is fulfilled.
- You can click the Cancel Game button at any time, if you wish to stop without fulfilling the game.
- The script will sleep for 1s between checks for available games.
- Every time the page loads or whenever a game is fulfilled, this script will check your game history and calculate any new tips owed to you by the home player.
- Tips are 30% of the ticket sales **and** winnings combined. Meaning it doesn't matter who wins the game, the pay is 70:30.
- This script will create a list under the Play Game and Cancel Game buttons, listing the nation's name, team name, and how much is owed, plus an info button which will display more.
  - If the amount is displayed in red, then you owe said much to that player.
  - If the amount is displayed in green, then that player owes you said much.
- Clicking the info button mentioned in the last dot point will display three new buttons. A Send Offer, Adjust, and Message button.
  - Clicking the Send Offer button will open the Create Offer screen. It is recommended to also have [Create Trade](https://github.com/BlackAsLight/DocScripts/blob/main/Trading/Create%20Trade.user.js) script installed so it auto fills the price, and quantity for you, and hides the sell/buy button that you don't want to click, otherwise only the resource, food, and nation part will be filled out.
  - The Adjust button creates a prompt allowing you to change the value of the amount owed. Setting it to zero will cause it to be removed from the books, while setting it blank or invalid number will cause nothing to happen.
  - The Message button at this time doesn't have any functionality.
- If you haven't had a game with someone for more than 7 days, any tips owed will be canceled.
- It is **not recommended** to view the market pages while this script is running, or you might find it a bit hard to accept or create trade offers.

### Team Building

This script runs on your Baseball page, where you can change player's names and up their stats. This script will replace the default Red and Blue buttons that allow you to up players stats, and instead provide a new blue button. Clicking this button will cause this button to turn red, and all the other buttons get disabled. It will then start to up the players stats until it reaches the max, 100, or you click the red button telling it to stop. If it reaches 100 then a sound will play letting you know.

### Human

This script runs on the [I'm Not A Robot](https://politicsandwar.com/human/) Page, and simply plays a tone whenever the page loads.
